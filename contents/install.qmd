# Install R & RStudio


## What is R

-   เมื่อเรากล่าวถึง **R** มักจะหมายถึง [R programming language](https://en.wikipedia.org/wiki/R_(programming_language)).

-   ปกติแล้ว R จะไม่ได้ถูกติดตั้งบน computer เราจะต้อง download จาก [The Comprehensive R Archive Network](https://cran.r-project.org) ซึ่งถูกพัฒนาโดยกลุ่ม R developer ที่มักถูกเรียกว่า R-core team ซึ่งทำให้เรามี R software มาใช้งานได้แบบฟรี

-   เมื่อเรา install R แล้ว เราสามารถเขียน **R code** เป็นคำศัพท์ภาษาอังกฤษที่คนเราอ่านออกได้ และป้อนคำสั่งให้ R interpreter แปลความหมายเป็นภาษาเครื่อง และปฏิบัติงานตามที่เราสั่ง

## Install R

1.  ไปที่ <https://cran.r-project.org>

2.  คลิก download link ตาม operating systems ที่คุณมี

![R Download Links](/images/setup/cran-dl-r.png){#fig-dl-r}

### Mac

สำหรับ **Mac users** ให้ download `.pkg` file จาก latest release section.

![Download R for Mac](/images/setup/cran-dl-mac.png){#fig-dl-r-mac}

see @fig-dl-r-mac

### Windows

สำหรับ **Windows users** แนะนำให้ install ทั้ง [`base`](https://cloud.r-project.org/bin/windows/base/) version และ [`Rtools`](https://cloud.r-project.org/bin/windows/Rtools/).

![Download R for Windows](/images/setup/cran-dl-win.png){#fig-dl-r-win}

::: callout-note
#### **Download [`base`](https://cloud.r-project.org/bin/windows/base/)**

เมื่อ download ตัว base มาแล้วจะได้ไฟล์เป็น installation wizard (`.exe`) ให้คลิกเข้าไป และทำตามขั้นตอนที่แนะนำในนั้น ซึ่งจะเป็นการ install R เข้าไปใน file system ของเรา และจะสร้าง shortcut ที่ start menu
:::

![Download `base` for Windows](/images/setup/cran-dl-win-base.png){#fig-base}

::: callout-note
#### **Download [`Rtools`](https://cloud.r-project.org/bin/windows/Rtools/)**

`Rtools` โดยตัวมันเองนั้นไม่ใช่ภาษา R แต่เป็น toolchain หรือเครื่องมือที่ช่วยอำนวยความสะดวกในการ install R package เพิ่มเติม ดังนั้นผมจึงแนะนำให้ติดตั้งไปด้วย คลิกที่ **Rtools installer** ลิงค์เพื่อ download ตัว installation wizard (`.exe`) จากนั้นทำตามขั้นตอนในนั้น
:::

![Example link to `Rtools42` installer for Windows](/images/setup/cran-dl-win-rtools.png){#fig-rtools}

## Using R Console

หลังจากที่ได้ install R ตามที่กล่าวมาแล้ว เราจะได้ **R console** application

![](/images/setup/R-app-logo.png){fig-align="center" width="20%"}

เปิด application ลองพิมพ์ `1 + 1` ตามหลังเครื่องหมาย prompt `>` และกด `Enter` จะได้ผลลัพท์เป็น `2`.

``` r
> 1 + 1
[1] 2
```

R console app เป็น interactive command-line REPL (read-eval-print loop) เราพิมพ์ R code เข้าไป, กด `Enter`, จากนั้น R interpreter จะประมวลผล และ print ผลลัพท์กลับมาที่ R console 

ข้อดีของ R console คือ เป็นโปรแกรมอย่างง่ายที่ทำให้เราสามารถใช้ R code ได้อย่างรวดเร็ว 

ส่วนใหญ่ผมใช้ R console เป็น **"เครื่องคิดเลข"** เพียงชั่วคราวเท่านั้น (ซึ่งก็ดีกว่าเครื่องคิดเลขที่อยู่ใน GUI อยู่มาก) แต่หากเราต้องการใช้งาน R แบบจริงจังเมื่อไร ผมแนะนำให้ใช้ IDE โดยตัวที่แนะนำเบื้องต้นคือ RStudio ซึ่งจะกล่าวถัดไป

::: callout-tip
### Tips: R in CLI

สำหรับคนที่ชอบใช้ Command Line Interface หรือ Terminall app (Mac) แทนที่ R console ที่กล่าวมา ให้ลองเปิด terminal window และพิมพ์คำสั่ง:

``` bash
$ R
```

จะเป็นการเข้าสู่ R REPL เราสามารถป้อนคำสั่ง R code ในนี้ได้เลย เมื่อต้องการจะออกให้กด `q()` (quit)

นอกจากนี้ ผมแนะนำให้ลองดู [radian](https://github.com/randy3k/radian) ซึ่งเป็น *modern* R console ยุคใหม่ ที่สามารถทำ multiline editing และมี syntax highlighting ด้วย ส่วนตัวชอบใช้งานตัวนี้มาก
:::

## Install RStudio

RStudio เป็น IDE (Integrated Development Environment) ที่สร้างมาสำหรับการใช้งานภาษา R โดยเฉพาะ มี interactive feature หลายอย่างที่ช่วยทำให้เราทำงานทางด้าน data analysis ที่เกี่ยวกับ R ได้ดี เช่นการ ช่วยให้เราใช้ R ในการเขียน reproducible report, สร้าง web application หรือแม้กระทั่ง เขียน blog หรือเขียนหนังสือโดยใช้ R ได้ด้วย

RStudio นี้มีในรูปแบบที่เป็น open source (ฟรี) และ commercial (ไม่ฟรี) 

> [Download RStudio](https://www.rstudio.com/products/rstudio/)

ผมแนะนำ **RStudio Desktop (Open Source Edition)** ซึ่งคิดว่าเพียงพอแล้วสำหรับการใช้งานทั่วๆ ไป 

ถ้าต้องการใช้ R และ RStudio บน clould โดยไม่ต้องติดตั้งอะไรบนเครื่อง สามารถลองใช้ [RStudio Cloud](https://rstudio.cloud) ได้ แต่ถ้าหากเป็นไปได้แนะนำให้ใช้ตัว desktop เนื่องจากหนังสือเล่มนี้จะอ้างอิงจากตัวนี้เป็นหลัก

## Using RStudio


เปิด RStudio application

![RStudio App](/images/setup/RStudio-app-logo.png){#fig-rstudio-app width="25%"}

จะเห็นหน้าต่างในรูปแบบ @fig-rstudio-panes


![RStudio User Interface](/images/setup/rstudio-panes.png){#fig-rstudio-panes}


### Create New R Project

ใน RStudio เราสามารถสร้าง **R project** ซึ่งเปรียบเสมือน "กล่อง" ที่บรรจุเอกสารและข้อมูลต่างๆ ในงานแต่ละชิ้นที่เราทำ เป็นการจัดระเบียบและไม่ให้ข้อมูลจากแต่ละ project มาปะปนกัน

เราลองมาสร้าง R project ใหม่สำหรับ R tutorial นี้กันเลยดีกว่า

ในแถบเมนูด้านบนซ้าย click **ปุ่มสีฟ้ารูปกล่อง** ที่มีตัว R (ปุ่มที่ 2 จากด้านซ้าย)

![RStudio menu bar](/images/setup/rstudio-menu-bar.png){#fig-rstudio-menu-bar width="100%"}

จากนั้นทำตามขั้นตอนดังกล่าว:

1. Click **`New Directory`**: เพื่อเลือกที่จะสร้าง R project ใน folder ใหม่

2. Click **`New Project`**: เพื่อสร้าง R project ในรูปแบบปกติ

3. Click **`Browse...`**: ในการเลือกตำแหน่งที่ R project folder นั้นจะถูกสร้างขึ้น

4.  ช่อง **Directory name:** ให้พิมพ์ชื่อ project ที่ต้องการ แนะนำให้ตั้งชื่อที่ไม่มีเว้นวรรค โดยให้ใช้ underscore `_` หรือ dash `-` ในการแยกคำแทน


![Create `learn-r` R project directory in my Desktop](/images/setup/create-proj.png){#fig-create-project width="100%"}

ในตัวอย่าง @fig-create-project ผมได้สร้าง `learn-r` project ใน Desktop ให้คุณพิมพ์ชื่อที่ต้องการ จากนั้น Click **Create Project**


